# ength box plot
ggplot(data = dat) +
geom_boxplot(aes(y = length, yend = length), size = 0.3, color = "red") +
theme_classic()+
theme(axis.title.y = element_text(color = "orange")) +
ylab("Length")
# Above 0.8 = sufficient power
# Below 0.8 = not sufficient power
wp.correlation(n = 50, r = 0.3, alpha = 0.05)
library(WebPower)
# Above 0.8 = sufficient power
# Below 0.8 = not sufficient power
wp.correlation(n = 50, r = 0.3, alpha = 0.05)
# TO get it above 0.8, we can change r and/or sample size. Do not recommend changing alpha
wp.correlation(n = 50, r = 0.384, alpha = 0.05)
# TO get it above 0.8, we can change r and/or sample size. Do not recommend changing alpha
wp.correlation(n = 50, r = 0.384, alpha = 0.1)
# TO get it above 0.8, we can change r and/or sample size. Do not recommend changing alpha
wp.correlation(n = 50, r = 0.384, alpha = 0.1)
# TO get it above 0.8, we can change r and/or sample size. Do not recommend changing alpha
wp.correlation(n = 50, r = 0.384, alpha = 0.001)
# TO get it above 0.8, we can change r and/or sample size. Do not recommend changing alpha
wp.correlation(n = 50, r = 0.384, alpha = 0.05)
# TO get it above 0.8, we can change r and/or sample size. Do not recommend changing alpha
wp.correlation(n = 50, r = 0.384, alpha = 0.5)
0
# TO get it above 0.8, we can change r and/or sample size. Do not recommend changing alpha
wp.correlation(n = 50, r = 0.384, alpha = 0.05)
# Fixed contraints, can only afford 50 samples
wp.correlation(n = 50, alpha = 0.05, power = 0.8)
wp.correlation(r = 0.3, alpha = 0.05, power = 0.8)
# plot sample size power
example <- wp.correlation(n=seq(50, 100, 10),
0.3, alpha = 0.05)
plot(example)
# D = effect size, how many stds away
wp.t(n1 = NULL, d = 0.03, power = 0.08, type = "paired")
wp.t(n1 = NULL, d = 0.03, power = 0.08, type = "two.sample")
# We can sample 1000
# Dont know effect size
# What effect size can we detect
wp.t(n1 = 1000, d = NULL, power = 0.8, type = "two.sample")
# .2n is for when we have two sample sizes
wp.t(n1 = 100, n2 = 250, d = 0.5, power = NULL, type = "two.sample.2n")
setwd("C:/Users/ahmad/Desktop/OneDrive - Rensselaer Polytechnic Institute/RPI(F25)/DataAnalytics2025_Ayaan_Ahmad/Lab2")
library(tidyverse)
library(ggplot2)
NY_data <- read.csv("NY-House-Dataset.csv")
View(NY_data)
### Exploratory Analysis ####
Price <- NY_data$PRICE
PropertySqFt <- NY_data$PROPERTYSQFT
Beds <- NY_data$BEDS
Bath <- NY_data$BATH
# NA values
na.indices <- is.na(Price) | is.na(PropertySqFt) | is.na(Beds) | is.na(Bath)
# drop NAs
Price.compl <- Price[!na.indices]
PropertySqFt.compl <- PropertySqFt[!na.indices]
Beds.compl <- Beds[!na.indices]
Bath.compl <- Bath[!na.indices]
NY_data.compl <- data.frame(Price = Price.compl, PropertySqFt = PropertySqFt.compl, Beds = Beds.compl, Bath = Bath.compl)
# Log transform price for a better fit
NY_data.compl$Price <- log(NY_data.compl$Price)
#Fit 3 linear models with Price as the response variable and with combinations of PropertySqFt, Beds, and Bath as predictors.
model1 = lm(Price ~ PropertySqFt, data = NY_data.compl)
model2 = lm(Price ~ PropertySqFt + Beds, data = NY_data.compl)
model3 = lm(Price ~ PropertySqFt + Beds + Bath, data = NY_data.compl)
# Boxplot for outliers in price
boxplot(NY_data.compl$Price, main="Boxplot for Price", ylab="Price")
# Clean the ouliers
# There are still outliers in the data but they are not as egregious
price_outliers <- boxplot.stats(NY_data.compl$Price)$out
NY_data.compl <- NY_data.compl %>% filter(!(Price %in% price_outliers))
boxplot(NY_data.compl$Price, main="Boxplot for Price", ylab="Price")
# MODEL 1: PRICE + PROPERTYSQFT
ggplot(NY_data.compl, aes(x = PropertySqFt, y = Price)) +
geom_point(alpha = 0.5) +
geom_smooth(method = "lm", col = "red") +
labs(title = "Log Price vs. Property Square Footage",
x = "Property Square Footage",
y = "Log (Price)")
# The p < 2.2e-16 meaning that this model is statistically significant
summary(model1)
ggplot(NY_data.compl, aes(x = PropertySqFt, y = logPrice)) +
geom_point(alpha = 0.5) +
geom_smooth(method = "lm", col = "red") +
labs(title = "Log Price vs. Property Square Footage",
x = "Property Square Footage",
y = "Log(Price)")
# NA values
na.indices <- is.na(Price) | is.na(PropertySqFt) | is.na(Beds) | is.na(Bath)
# drop NAs
Price.compl <- Price[!na.indices]
PropertySqFt.compl <- PropertySqFt[!na.indices]
Beds.compl <- Beds[!na.indices]
Bath.compl <- Bath[!na.indices]
NY_data.compl <- data.frame(Price = Price.compl, PropertySqFt = PropertySqFt.compl, Beds = Beds.compl, Bath = Bath.compl)
# Log transform price for a better fit
NY_data.compl$Price <- log(NY_data.compl$Price)
#Fit 3 linear models with Price as the response variable and with combinations of PropertySqFt, Beds, and Bath as predictors.
model1 = lm(Price ~ PropertySqFt, data = NY_data.compl)
model2 = lm(Price ~ PropertySqFt + Beds, data = NY_data.compl)
model3 = lm(Price ~ PropertySqFt + Beds + Bath, data = NY_data.compl)
# Boxplot for outliers in price
boxplot(NY_data.compl$Price, main="Boxplot for Price", ylab="Price")
# Clean the ouliers
# There are still outliers in the data but they are not as egregious
price_outliers <- boxplot.stats(NY_data.compl$Price)$out
NY_data.compl <- NY_data.compl %>% filter(!(Price %in% price_outliers))
boxplot(NY_data.compl$Price, main="Boxplot for Price", ylab="Price")
# MODEL 1: PRICE + PROPERTYSQFT
ggplot(NY_data.compl, aes(x = PropertySqFt, y = Price)) +
geom_point(alpha = 0.5) +
geom_smooth(method = "lm", col = "red") +
labs(title = "Log Price vs. Property Square Footage",
x = "Property Square Footage",
y = "Log (Price)")
# The p < 2.2e-16 meaning that this model is statistically significant
summary(model1)
ggplot(NY_data.compl, aes(x = PropertySqFt, y = logPrice)) +
geom_point(alpha = 0.5) +
geom_smooth(method = "lm", col = "red") +
labs(title = "Log Price vs. Property Square Footage",
x = "Property Square Footage",
y = "Log(Price)")
# MODEL 1: PRICE + PROPERTYSQFT
ggplot(NY_data.compl, aes(x = PropertySqFt, y = Price)) +
geom_point(alpha = 0.5) +
geom_smooth(method = "lm", col = "red") +
labs(title = "Log Price vs. Property Square Footage",
x = "Property Square Footage",
y = "Log (Price)")
# The p < 2.2e-16 meaning that this model is statistically significant
summary(model1)
ggplot(NY_data.compl, aes(x = PropertySqFt, y = logPrice)) +
geom_point(alpha = 0.5) +
geom_smooth(method = "lm", col = "red") +
labs(title = "Log Price vs. Property Square Footage",
x = "Property Square Footage",
y = "Log(Price)")
ggplot(NY_data.compl, aes(x = PropertySqFt, y = Price)) +
geom_point(alpha = 0.5) +
geom_smooth(method = "lm", col = "red") +
labs(title = "Log Price vs. Property Square Footage",
x = "Property Square Footage",
y = "Log(Price)")
